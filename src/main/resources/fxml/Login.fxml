<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane fx:id="loginStackPane"
           xmlns="http://javafx.com/javafx/23"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="files.Controllers.LoginController"
           stylesheets="@../css/login.css"
           prefWidth="1200" prefHeight="750">

    <!-- Background image -->
    <Region styleClass="login-bg"/>

    <!-- Dark overlay (optional but recommended for dark theme readability) -->
    <Region styleClass="login-overlay"/>

    <!-- Center container -->
    <StackPane alignment="CENTER">

        <!-- ================== LOGIN PANE ================== -->
        <VBox fx:id="loginAnchorPane"
              styleClass="login-card"
              spacing="14"
              maxWidth="460"
              alignment="CENTER">

            <padding>
                <Insets top="26" right="26" bottom="26" left="26"/>
            </padding>

            <Label text="COURSE MANAGEMENT SYSTEM"
                   styleClass="login-title"
                   wrapText="true"/>

            <ComboBox fx:id="roleBox"
                      promptText="Select Role"
                      styleClass="login-input"/>

            <TextField fx:id="userIDField"
                       promptText="User ID"
                       styleClass="login-input"/>

            <!-- Password (eye INSIDE) -->
            <StackPane styleClass="password-wrap">
                <PasswordField fx:id="passwordField"
                               promptText="Password"
                               styleClass="login-input"/>

                <TextField fx:id="passwordVisibleField"
                           promptText="Password"
                           styleClass="login-input"
                           visible="false" managed="false"/>

                <Button fx:id="passwordToggleButton"
                        text="ðŸ‘"
                        onAction="#toggleLoginPassword"
                        styleClass="eye-button"
                        StackPane.alignment="CENTER_RIGHT">
                    <StackPane.margin>
                        <Insets top="0" right="10" bottom="0" left="0"/>
                    </StackPane.margin>
                </Button>
            </StackPane>

            <HBox spacing="12" alignment="CENTER">
                <Button fx:id="submitButton"
                        text="Submit"
                        onAction="#onSubmit"
                        styleClass="primary-btn"/>

                <Button fx:id="cancelButton"
                        text="Cancel"
                        onAction="#onCancel"
                        styleClass="secondary-btn"/>
            </HBox>

            <Label fx:id="errorLabel"
                   wrapText="true"
                   styleClass="error-text"/>

            <HBox alignment="CENTER" spacing="6">
                <Label text="Don't have an account?"/>
                <Hyperlink fx:id="registerHyperlink"
                           text="Register here"
                           onAction="#onRegisterClick"/>
            </HBox>
        </VBox>

        <!-- ================== SIGN UP PANE ================== -->
        <VBox fx:id="signUpAnchorPane"
              styleClass="login-card"
              spacing="14"
              maxWidth="460"
              alignment="CENTER"
              visible="false" managed="false">

            <padding>
                <Insets top="26" right="26" bottom="26" left="26"/>
            </padding>

            <Label text="REGISTER HERE"
                   styleClass="login-title"/>

            <ComboBox fx:id="roleBoxSetup"
                      promptText="Select Role"
                      styleClass="login-input"/>

            <TextField fx:id="setNameField"
                       promptText="Name"
                       styleClass="login-input"/>

            <TextField fx:id="setUserIDField"
                       promptText="User ID"
                       styleClass="login-input"/>

            <!-- Password (eye INSIDE) -->
            <StackPane styleClass="password-wrap">
                <PasswordField fx:id="setPasswordField"
                               promptText="Password"
                               styleClass="login-input"/>

                <TextField fx:id="setPasswordVisibleField"
                           promptText="Password"
                           styleClass="login-input"
                           visible="false" managed="false"/>

                <Button fx:id="setPasswordToggleButton"
                        text="ðŸ‘"
                        onAction="#toggleRegisterPassword"
                        styleClass="eye-button"
                        StackPane.alignment="CENTER_RIGHT">
                    <StackPane.margin>
                        <Insets top="0" right="10" bottom="0" left="0"/>
                    </StackPane.margin>
                </Button>
            </StackPane>

            <!-- Confirm (eye INSIDE) -->
            <StackPane styleClass="password-wrap">
                <PasswordField fx:id="confirmPasswordField"
                               promptText="Confirm Password"
                               styleClass="login-input"/>

                <TextField fx:id="confirmPasswordVisibleField"
                           promptText="Confirm Password"
                           styleClass="login-input"
                           visible="false" managed="false"/>

                <Button fx:id="confirmPasswordToggleButton"
                        text="ðŸ‘"
                        onAction="#toggleRegisterConfirmPassword"
                        styleClass="eye-button"
                        StackPane.alignment="CENTER_RIGHT">
                    <StackPane.margin>
                        <Insets top="0" right="10" bottom="0" left="0"/>
                    </StackPane.margin>
                </Button>
            </StackPane>

            <Button fx:id="signUpButton"
                    text="Sign Up"
                    onAction="#onSignUp"
                    styleClass="primary-btn"/>

            <Label fx:id="registerErrorLabel"
                   wrapText="true"
                   styleClass="error-text"/>

            <HBox alignment="CENTER" spacing="6">
                <Label text="Already have an account?"/>
                <Hyperlink fx:id="LoginHyperlink"
                           text="Login here"
                           onAction="#onLoginClick"/>
            </HBox>
        </VBox>

    </StackPane>

</StackPane>
